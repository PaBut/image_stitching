# from configs.data.base import cfg
# -*- coding: utf-8 -*-
# @Author  : xuelun

from os.path import join
from yacs.config import CfgNode as CN

_CN = CN()

_CN.DATASET = CN()
_CN.TRAINER = CN()

TRAINVAL_BASE_PATH = "datasets/WalkDepth"

_CN.DATASET.TRAIN_DATA_SOURCE = "MegaDepth"
_CN.DATASET.TRAIN_WALKDEPTH = True
_CN.DATASET.TRAIN_DATA_ROOT = TRAINVAL_BASE_PATH
_CN.DATASET.TRAIN_NPZ_ROOT = TRAINVAL_BASE_PATH
_CN.DATASET.TRAIN_LIST_PATH = f"{TRAINVAL_BASE_PATH}/train.txt"

_CN.DATASET.MIN_OVERLAP_SCORE_TRAIN = 0.15
_CN.DATASET.MIN_OVERLAP_SCORE_TEST = 0.15

TEST_BASE_PATH = "data/Aachen"
_CN.DATASET.VAL_DATA_SOURCE = "MegaDepth" 
_CN.DATASET.VAL_WALKDEPTH = True
_CN.DATASET.VAL_DATA_ROOT = TRAINVAL_BASE_PATH
_CN.DATASET.VAL_NPZ_ROOT = f"{TRAINVAL_BASE_PATH}"
_CN.DATASET.VAL_LIST_PATH = f"{TRAINVAL_BASE_PATH}/valid.txt"
# _CN.DATASET.VAL_LIST_PATH = f"{TRAINVAL_BASE_PATH}/valid_full.txt"

_CN.DATASET.TEST_DATA_SOURCE = "MegaDepth"  ##############
_CN.DATASET.TEST_WALKDEPTH = True
_CN.DATASET.TEST_DATA_ROOT = TEST_BASE_PATH
_CN.DATASET.TEST_NPZ_ROOT = TEST_BASE_PATH
_CN.DATASET.TEST_LIST_PATH = f"{TEST_BASE_PATH}/test.txt"

_CN.TRAINER.N_SAMPLES_PER_SUBSET = 100

_CN.DATASET.MGDPT_IMG_RESIZE = 640
_CN.DATASET.GEOMETRIC_AUGMENTATION = True
_CN.DATASET.AUGMENTATION_TYPE = 'low_light'  # options: [None, 'dark', 'mobile']

cfg = _CN

